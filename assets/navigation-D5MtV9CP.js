import{t as T}from"./menu-DT0UV3U2.js";import{a5 as q,a6 as B,a7 as E,_ as I,s as P,r as v,a8 as k,c as C,b as i,w as n,a as u,F as R,a9 as V,h as s,e as l,o as h,f as b,g as F,a2 as L,t as z,aa as S}from"./index-uY2siexV.js";import{a as O}from"./axios-Bo0ATomq.js";function U(){const e=q(B,null);return e===null&&E("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),e}const W=U(),w=O.create({baseURL:"http://localhost:8980",withCredentials:!1,headers:{"Access-Control-Allow-Origin":"*"},timeout:1e3*60*5});w.interceptors.request.use(e=>(console.log("request：",e),e),e=>Promise.reject(e));w.interceptors.response.use(e=>{const r=e.data;return console.log("response：",e),r.code===200||W.error(r.data||"网络异常"),r},e=>Promise.reject(e));function K(e){return w({method:"post",url:"/website/nav",data:e})}const Q={class:"nav_div"},G={class:"card_div"},H=["onClick"],J={class:"card_footer_bottom"},X={__name:"navigation",setup(e){const r=T();P(r),v({});const a=k({pageNum:1,pageSize:5,total:0,pages:0,pageData:[]}),N=k([5,10,20,40]),g=()=>{K(a).then(t=>{a.pageData=t.data.records,a.total=t.data.total,console.log(t.data.size),a.pageSize=t.data.size,a.pages=t.data.pages})};g();const A=t=>{console.log(a.pageSize),a.pageSize=t,console.log(a.pageSize),g()},D=(t,f)=>{a.pageNum=t,g()},d=v(-1),m=v(-1),_=(t,f)=>{d.value=t,setTimeout(()=>{window.open(f,"_blank"),d.value=-1},450)};return(t,f)=>{const j=l("n-tag"),x=l("n-avatar"),y=l("n-tooltip"),M=l("n-card"),$=l("n-pagination");return h(),C("div",Q,[i(j,{style:{margin:"5px"},color:{color:"#fff"},bordered:!1},{avatar:n(()=>[i(b,{name:"earth_around",size:"24"})]),default:n(()=>[F(" 综合导航 ")]),_:1}),u("div",G,[(h(!0),C(R,null,V(s(a).pageData,(o,c)=>(h(),L(M,{class:S(c===s(m)?"card animate__animated animate__pulse":"card"),hoverable:"",onMouseover:p=>m.value=c},{header:n(()=>[i(x,{size:35,class:"card_img",src:o.cover,onClick:p=>_(o.url),onMouseover:p=>m.value=c,"preview-disabled":"",round:""},null,8,["src","onClick","onMouseover"])]),footer:n(()=>[u("div",{class:"card_footer_top",onClick:p=>_(o.url)},z(o.title),9,H),i(y,{style:{maxWidth:"400px"},placement:"bottom",trigger:"hover"},{trigger:n(()=>[u("div",J,z(o.webDescribe),1)]),default:n(()=>[u("span",null,z(o.webDescribe),1)]),_:2},1024)]),action:n(()=>[i(b,{class:S(c===s(d)?"animate__animated animate__fadeOutTopRight":"animate__animated"),name:"space_rocket",size:"18",onClick:p=>_(c,o.url)},null,8,["class","onClick"])]),_:2},1032,["class","onMouseover"]))),256))]),i($,{class:"card_page","page-slot":6,page:s(a).pageNum,"page-size":s(a).pageSize,"page-count":s(a).pages,"default-page-size":s(a).pageSize,"default-page":s(a).pageNum,size:"medium","show-quick-jumper":"","show-size-picker":"","show-quick-jump-dropdown":!1,"page-sizes":s(N),"on-update:page":D,"on-update:page-size":A},null,8,["page","page-size","page-count","default-page-size","default-page","page-sizes"])])}}},ae=I(X,[["__scopeId","data-v-0d8898e8"]]);export{ae as default};

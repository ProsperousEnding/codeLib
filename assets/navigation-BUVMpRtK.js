import{t as B}from"./themeStore-YAn8_cvp.js";import{B as q,C as E,D as T,_ as P,s as R,r as d,E as k,c as b,a as o,b as c,F,G as L,h as s,e as g,o as f,f as C,z as O,w as l,t as w,H as S,p as U,i as V}from"./index-BRHhMxow.js";import{a as W}from"./axios-Bo0ATomq.js";import{a as G}from"./avatar-CtsiX47V.js";import"./index-CiHJuNMP.js";function H(){const e=q(E,null);return e===null&&T("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),e}const K=H(),z=W.create({baseURL:"http://localhost:8980",withCredentials:!1,headers:{"Access-Control-Allow-Origin":"*"},timeout:1e3*60*5});z.interceptors.request.use(e=>(console.log("request：",e),e),e=>Promise.reject(e));z.interceptors.response.use(e=>{const n=e.data;return console.log("response：",e),n.code===200||K.error(n.data||"网络异常"),n},e=>Promise.reject(e));function Q(e){return z({method:"post",url:"/website/nav",data:e})}const y=e=>(U("data-v-4331b8ef"),e=e(),V(),e),J={class:"nav_div"},X={style:{margin:"5px",width:"200px",display:"flex","align-items":"center"}},Y=y(()=>o("label",{style:{filter:"invert(30%)","font-weight":"bold"}},"综合导航",-1)),Z={class:"card_div"},ee={class:"avatar-wrapper"},ae=y(()=>o("div",{class:"masking"},null,-1)),te=["onClick"],se={class:"card_footer_bottom"},oe={__name:"navigation",setup(e){const n=B();R(n),d({});let N=d(G);const a=k({pageNum:1,pageSize:5,total:0,pages:0,pageData:[]}),A=k([5,10,20,40]),u=()=>{Q(a).then(t=>{a.pageData=t.data.records,a.total=t.data.total,console.log(t.data.size),a.pageSize=t.data.size,a.pages=t.data.pages})};u();const D=t=>{console.log(a.pageSize),a.pageSize=t,console.log(a.pageSize),u()},I=(t,v)=>{a.pageNum=t,u()},m=d(-1),_=d(-1),h=(t,v)=>{m.value=t,setTimeout(()=>{window.open(v,"_blank"),m.value=-1},450)};return(t,v)=>{const j=g("n-avatar"),x=g("n-tooltip"),M=g("n-card"),$=g("n-pagination");return f(),b("div",J,[o("div",X,[c(C,{name:"earth_around",size:"24"}),Y]),o("div",Z,[(f(!0),b(F,null,L(s(a).pageData,(r,i)=>(f(),O(M,{class:S(i===s(_)?"card animate__animated animate__pulse":"card"),hoverable:"",onMouseover:p=>_.value=i},{header:l(()=>[o("div",ee,[c(j,{size:38,class:"card_img",src:r.cover,"fallback-src":s(N),onClick:p=>h(r.url),onMouseover:p=>_.value=i,"preview-disabled":"",round:""},null,8,["src","fallback-src","onClick","onMouseover"]),ae])]),footer:l(()=>[o("div",{class:"card_footer_top hvr-grow hvr-forward",onClick:p=>h(i,r.url)},w(r.title),9,te),c(x,{style:{maxWidth:"400px"},placement:"bottom",trigger:"hover"},{trigger:l(()=>[o("div",se,w(r.webDescribe),1)]),default:l(()=>[o("span",null,w(r.webDescribe),1)]),_:2},1024)]),action:l(()=>[c(C,{style:{cursor:"pointer"},class:S(i===s(m)?"animate__animated animate__fadeOutTopRight hvr-grow  hvr-skew-forward":"animate__animated hvr-grow  hvr-skew-forward"),name:"space_rocket",size:"18",onClick:p=>h(i,r.url)},null,8,["class","onClick"])]),_:2},1032,["class","onMouseover"]))),256))]),c($,{class:"card_page","page-slot":6,page:s(a).pageNum,"page-size":s(a).pageSize,"page-count":s(a).pages,"default-page-size":s(a).pageSize,"default-page":s(a).pageNum,size:"medium","show-quick-jumper":"","show-size-picker":"","show-quick-jump-dropdown":!1,"page-sizes":s(A),"on-update:page":I,"on-update:page-size":D},null,8,["page","page-size","page-count","default-page-size","default-page","page-sizes"])])}}},pe=P(oe,[["__scopeId","data-v-4331b8ef"]]);export{pe as default};

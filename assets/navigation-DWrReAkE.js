import{t as T}from"./menu-MINXdJ0H.js";import{a5 as q,a6 as B,a7 as E,_ as P,s as R,r as u,a8 as b,c as k,b as c,w as r,a as i,F as V,a9 as F,h as s,e as p,o as f,f as C,g as L,a2 as O,t as w,aa as S,p as U,i as W}from"./index-B8nP7KDz.js";import{a as K}from"./axios-Bo0ATomq.js";function Q(){const e=q(B,null);return e===null&&E("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),e}const G=Q(),z=K.create({baseURL:"http://localhost:8980",withCredentials:!1,headers:{"Access-Control-Allow-Origin":"*"},timeout:1e3*60*5});z.interceptors.request.use(e=>(console.log("request：",e),e),e=>Promise.reject(e));z.interceptors.response.use(e=>{const n=e.data;return console.log("response：",e),n.code===200||G.error(n.data||"网络异常"),n},e=>Promise.reject(e));function H(e){return z({method:"post",url:"/website/nav",data:e})}const J=e=>(U("data-v-3eb56fbd"),e=e(),W(),e),X={class:"nav_div"},Y={class:"card_div"},Z={class:"avatar-wrapper"},ee=J(()=>i("div",{class:"masking"},null,-1)),ae=["onClick"],te={class:"card_footer_bottom"},se={__name:"navigation",setup(e){const n=T();R(n),u({});let N=u("/favicon.ico");const a=b({pageNum:1,pageSize:5,total:0,pages:0,pageData:[]}),y=b([5,10,20,40]),g=()=>{H(a).then(t=>{a.pageData=t.data.records,a.total=t.data.total,console.log(t.data.size),a.pageSize=t.data.size,a.pages=t.data.pages})};g();const A=t=>{console.log(a.pageSize),a.pageSize=t,console.log(a.pageSize),g()},D=(t,h)=>{a.pageNum=t,g()},_=u(-1),m=u(-1),v=(t,h)=>{_.value=t,setTimeout(()=>{window.open(h,"_blank"),_.value=-1},450)};return(t,h)=>{const I=p("n-tag"),j=p("n-avatar"),x=p("n-tooltip"),M=p("n-card"),$=p("n-pagination");return f(),k("div",X,[c(I,{style:{margin:"5px"},color:{color:"#fff"},bordered:!1},{avatar:r(()=>[c(C,{name:"earth_around",size:"24"})]),default:r(()=>[L(" 综合导航 ")]),_:1}),i("div",Y,[(f(!0),k(V,null,F(s(a).pageData,(o,l)=>(f(),O(M,{class:S(l===s(m)?"card animate__animated animate__pulse":"card"),hoverable:"",onMouseover:d=>m.value=l},{header:r(()=>[i("div",Z,[c(j,{size:38,class:"card_img",src:o.cover,"fallback-src":s(N),onClick:d=>v(o.url),onMouseover:d=>m.value=l,"preview-disabled":"",round:""},null,8,["src","fallback-src","onClick","onMouseover"]),ee])]),footer:r(()=>[i("div",{class:"card_footer_top hvr-grow hvr-forward",onClick:d=>v(o.url)},w(o.title),9,ae),c(x,{style:{maxWidth:"400px"},placement:"bottom",trigger:"hover"},{trigger:r(()=>[i("div",te,w(o.webDescribe),1)]),default:r(()=>[i("span",null,w(o.webDescribe),1)]),_:2},1024)]),action:r(()=>[c(C,{style:{cursor:"pointer"},class:S(l===s(_)?"animate__animated animate__fadeOutTopRight hvr-grow  hvr-skew-forward":"animate__animated hvr-grow  hvr-skew-forward"),name:"space_rocket",size:"18",onClick:d=>v(l,o.url)},null,8,["class","onClick"])]),_:2},1032,["class","onMouseover"]))),256))]),c($,{class:"card_page","page-slot":6,page:s(a).pageNum,"page-size":s(a).pageSize,"page-count":s(a).pages,"default-page-size":s(a).pageSize,"default-page":s(a).pageNum,size:"medium","show-quick-jumper":"","show-size-picker":"","show-quick-jump-dropdown":!1,"page-sizes":s(y),"on-update:page":D,"on-update:page-size":A},null,8,["page","page-size","page-count","default-page-size","default-page","page-sizes"])])}}},ce=P(se,[["__scopeId","data-v-3eb56fbd"]]);export{ce as default};

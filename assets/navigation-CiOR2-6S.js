import{t as y}from"./menu-3apnJBJh.js";import{a5 as q,a6 as B,a7 as R,_ as $,s as E,r as z,a8 as I,a9 as w,c as b,b as i,w as n,a as l,F as O,aa as P,h as s,e as c,o as m,f as k,g as V,a2 as F,t as _,ab as L}from"./index-DkS2grD7.js";import{a as M}from"./axios-Bo0ATomq.js";function U(){const a=q(B,null);return a===null&&R("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),a}const K=U(),f=M.create({baseURL:"http://localhost:8980",withCredentials:!1,headers:{"Access-Control-Allow-Origin":"*"},timeout:1e3*60*5});f.interceptors.request.use(a=>(console.log("request：",a),a),a=>Promise.reject(a));f.interceptors.response.use(a=>{const r=a.data;return console.log("response：",a),r.code===200||K.error(r.data||"网络异常"),r},a=>Promise.reject(a));function Q(a){return f({method:"post",url:"/website/nav",data:a})}const W={class:"nav_div"},G={class:"card_div"},H=["onClick"],J={class:"card_footer_bottom"},X={__name:"navigation",setup(a){const r=y();E(r),z({});const p=z(-1);I(()=>{const e=["animate__animated"];return p.value?e.push("animate__fadeOutTopRight"):e.pop("animate__animated"),e});const t=w({pageNum:1,pageSize:5,total:0,pages:0,pageData:[]}),C=w([5,10,20,40]),g=()=>{Q(t).then(e=>{t.pageData=e.data.records,t.total=e.data.total,console.log(e.data.size),t.pageSize=e.data.size,t.pages=e.data.pages})};g();const S=e=>{console.log(t.pageSize),t.pageSize=e,console.log(t.pageSize),g()},N=(e,d)=>{t.pageNum=e,g()},u=(e,d)=>{p.value=e,setTimeout(()=>{window.open(d,"_blank"),p.value=-1},450)};return(e,d)=>{const x=c("n-tag"),D=c("n-avatar"),j=c("n-tooltip"),A=c("n-card"),T=c("n-pagination");return m(),b("div",W,[i(x,{style:{margin:"5px"},color:{color:"#fff"},bordered:!1},{avatar:n(()=>[i(k,{name:"earth_around",size:"24"})]),default:n(()=>[V(" 综合导航 ")]),_:1}),l("div",G,[(m(!0),b(O,null,P(s(t).pageData,(o,h)=>(m(),F(A,{class:"card",hoverable:""},{header:n(()=>[i(D,{size:35,class:"card_img",src:o.cover,onClick:v=>u(o.url),"preview-disabled":"",round:""},null,8,["src","onClick"])]),footer:n(()=>[l("div",{class:"card_footer_top",onClick:v=>u(o.url)},_(o.title),9,H),i(j,{placement:"bottom",trigger:"hover"},{trigger:n(()=>[l("div",J,_(o.webDescribe),1)]),default:n(()=>[l("span",null,_(o.webDescribe),1)]),_:2},1024)]),action:n(()=>[i(k,{class:L(h==s(p)?"animate__animated animate__fadeOutTopRight":"animate__animated"),name:"space_rocket",size:"18",onClick:v=>u(h,o.url)},null,8,["class","onClick"])]),_:2},1024))),256))]),i(T,{class:"card_page","page-slot":6,page:s(t).pageNum,"page-size":s(t).pageSize,"page-count":s(t).pages,"default-page-size":s(t).pageSize,"default-page":s(t).pageNum,size:"medium","show-quick-jumper":"","show-size-picker":"","show-quick-jump-dropdown":!1,"page-sizes":s(C),"on-update:page":N,"on-update:page-size":S},null,8,["page","page-size","page-count","default-page-size","default-page","page-sizes"])])}}},ae=$(X,[["__scopeId","data-v-99173321"]]);export{ae as default};

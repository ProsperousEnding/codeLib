import{t as q}from"./themeStore-B2QqIWQF.js";import{B as E,C as R,D as P,_ as V,s as F,r as u,E as k,c as b,a as r,b as l,F as L,G as O,h as s,e as d,o as f,f as C,z as U,w as p,A as S,g as W,t as w,H as y,p as G,i as H}from"./index-ZFgw_Zgn.js";import{a as K}from"./axios-Bo0ATomq.js";import{a as Q}from"./avatar-CtsiX47V.js";import"./index-Dp7Ej-hz.js";function J(){const e=E(R,null);return e===null&&P("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),e}const X=J(),z=K.create({baseURL:"http://localhost:8980",withCredentials:!1,headers:{"Access-Control-Allow-Origin":"*"},timeout:1e3*60*5});z.interceptors.request.use(e=>(console.log("request：",e),e),e=>Promise.reject(e));z.interceptors.response.use(e=>{const c=e.data;return console.log("response：",e),c.code===200||X.error(c.data||"网络异常"),c},e=>Promise.reject(e));function Y(e){return z({method:"post",url:"/website/nav",data:e})}const N=e=>(G("data-v-a59f74e5"),e=e(),H(),e),Z={class:"nav_div"},ee={style:{margin:"5px",width:"200px",display:"flex","align-items":"center"}},ae=N(()=>r("label",{style:{filter:"invert(30%)","font-weight":"bold"}},"综合导航",-1)),te={class:"card_div"},se={class:"avatar-wrapper"},oe=N(()=>r("div",{class:"masking"},null,-1)),re=["onClick"],ne={class:"card_footer_bottom"},ie={__name:"navigation",setup(e){const c=q();F(c),u({});let A=u(Q);const a=k({pageNum:1,pageSize:5,total:0,pages:0,pageData:[]}),D=k([5,10,20,40]),m=()=>{Y(a).then(t=>{a.pageData=t.data.records,a.total=t.data.total,console.log(t.data.size),a.pageSize=t.data.size,a.pages=t.data.pages})};m();const I=t=>{console.log(a.pageSize),a.pageSize=t,console.log(a.pageSize),m()},x=(t,v)=>{a.pageNum=t,m()},_=u(-1);let n=u(-1);const h=(t,v)=>{_.value=t,setTimeout(()=>{window.open(v,"_blank"),_.value=-1},450)};return(t,v)=>{const j=d("n-avatar"),M=d("n-text"),$=d("n-tooltip"),B=d("n-card"),T=d("n-pagination");return f(),b("div",Z,[r("div",ee,[l(C,{name:"earth_around",size:"24"}),ae]),r("div",te,[(f(!0),b(L,null,O(s(a).pageData,(i,o)=>(f(),U(B,{class:y(o===s(n)?"card animate__animated animate__pulse":"card"),hoverable:"",onMouseover:g=>S(n)?n.value=o:n=o},{header:p(()=>[r("div",se,[l(j,{size:38,class:"card_img",src:i.cover,"fallback-src":s(A),onClick:g=>h(i.url),onMouseover:g=>S(n)?n.value=o:n=o,"preview-disabled":"",round:""},null,8,["src","fallback-src","onClick","onMouseover"]),oe])]),footer:p(()=>[r("div",{class:"card_footer_top hvr-grow hvr-forward",onClick:g=>h(o,i.url)},[l(M,{type:"primary",class:"color-primary"},{default:p(()=>[W(w(i.title),1)]),_:2},1024)],8,re),l($,{style:{maxWidth:"400px"},placement:"bottom",trigger:"hover"},{trigger:p(()=>[r("div",ne,w(i.webDescribe),1)]),default:p(()=>[r("span",null,w(i.webDescribe),1)]),_:2},1024)]),action:p(()=>[l(C,{style:{cursor:"pointer"},class:y(o===s(_)?"animate__animated animate__fadeOutTopRight hvr-grow  hvr-skew-forward":"animate__animated hvr-grow  hvr-skew-forward"),name:"space_rocket",size:"18",onClick:g=>h(o,i.url)},null,8,["class","onClick"])]),_:2},1032,["class","onMouseover"]))),256))]),l(T,{class:"card_page","page-slot":6,page:s(a).pageNum,"page-size":s(a).pageSize,"page-count":s(a).pages,"default-page-size":s(a).pageSize,"default-page":s(a).pageNum,size:"medium","show-quick-jumper":"","show-size-picker":"","show-quick-jump-dropdown":!1,"page-sizes":s(D),"on-update:page":x,"on-update:page-size":I},null,8,["page","page-size","page-count","default-page-size","default-page","page-sizes"])])}}},ue=V(ie,[["__scopeId","data-v-a59f74e5"]]);export{ue as default};

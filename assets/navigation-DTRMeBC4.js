import{t as j}from"./menu-WKy-vmup.js";import{a5 as D,a6 as y,a7 as A,_ as q,s as B,r as E,a8 as m,c as _,b as r,w as c,a as l,F as I,a9 as P,h as s,e as i,o as g,f,g as T,a2 as V,t as h}from"./index-c8jW1WeB.js";import{a as $}from"./axios-Bo0ATomq.js";function F(){const e=D(y,null);return e===null&&A("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),e}const L=F(),d=$.create({baseURL:"http://localhost:8980",withCredentials:!1,headers:{"Access-Control-Allow-Origin":"*"},timeout:1e3*60*5});d.interceptors.request.use(e=>(console.log("request：",e),e),e=>Promise.reject(e));d.interceptors.response.use(e=>{const o=e.data;return console.log("response：",e),o.code===200||L.error(o.data||"网络异常"),o},e=>Promise.reject(e));function M(e){return d({method:"post",url:"/website/nav",data:e})}const R={class:"nav_div"},U={class:"card_div"},K={class:"card_footer_top"},O={class:"card_footer_bottom"},Q={__name:"navigation",setup(e){const o=j();B(o),E({});const a=m({pageNum:1,pageSize:10,total:0,pages:0,pageData:[]}),v=m([5,10,20,40]),p=()=>{M(a).then(t=>{a.pageData=t.data.records,a.total=t.data.total,console.log(t.data.size),a.pageSize=t.data.size,a.pages=t.data.pages})};p();const z=t=>{console.log(a.pageSize),a.pageSize=t,console.log(a.pageSize),p()},w=(t,b)=>{a.pageNum=t,p()},u=t=>{window.open(t,"_blank")};return(t,b)=>{const k=i("n-tag"),S=i("n-avatar"),C=i("n-card"),N=i("n-pagination");return g(),_("div",R,[r(k,{style:{margin:"5px"},color:{color:"#fff"},bordered:!1},{avatar:c(()=>[r(f,{name:"earth_around",size:"24"})]),default:c(()=>[T(" 综合导航 ")]),_:1}),l("div",U,[(g(!0),_(I,null,P(s(a).pageData,n=>(g(),V(C,{class:"card",hoverable:""},{header:c(()=>[r(S,{size:45,class:"card_img",src:n.cover,onClick:x=>u(n.url),"preview-disabled":"",round:""},null,8,["src","onClick"])]),footer:c(()=>[l("div",K,h(n.title),1),l("div",O,h(n.webDescribe),1)]),action:c(()=>[r(f,{name:"space_rocket",size:"24",onClick:x=>u(n.url)},null,8,["onClick"])]),_:2},1024))),256)),r(N,{class:"card_page","page-slot":6,page:s(a).pageNum,"page-size":s(a).pageSize,"page-count":s(a).pages,"default-page-size":s(a).pageSize,"default-page":s(a).pageNum,size:"medium","show-quick-jumper":"","show-quick-jump-dropdown":!1,"page-sizes":s(v),"on-update:page":w,"on-update:page-size":z},null,8,["page","page-size","page-count","default-page-size","default-page","page-sizes"])])])}}},J=q(Q,[["__scopeId","data-v-8b7de671"]]);export{J as default};
